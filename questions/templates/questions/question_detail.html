{% extends 'base.html' %}
{% block content %}
{% load staticfiles %}
<hr>
  <blockquote class="blockquote bq-primary">
    <p class="bq-title">{{ question.name }}</p>
    <p>{{question.body}}
    </p>
    <div class="">
      <h6>Published on: <strong>{{question.created_date}}</strong> by:<a
          href="{% url 'accounts:profile' slug=question.author.slug %}"> {{ question.author }}</a> </h6>
    </div>
    <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
        {% if question.author == user %}
        <a href="{% url 'questions:update_question' slug=question.slug %}"
          class="btn btn-sm btn-warning text-dark font-weight-bold">Edit Post</a>
        <a href="{% url 'questions:delete_question' slug=question.slug %}"
          class="btn btn-sm btn-danger text-dark font-weight-bold">Delete Post</a>
        {% endif %}
        {% if question.author == user and question.solved == False %}
        <a class="btn btn-sm btn-success text-dark font-weight-bold"
          href="{% url 'questions:question_solved' slug=question.slug %}">Mark Solved</a>
        {% endif %}
      </div>
  </blockquote>
<hr>

</div>
<div class='container'>
  <h2 class="font-weight-bold">Answers provided for this question</h2>

  {% if question.solved %}
  <h5>Question has been solved </h5>
  {% for answer in question.answers.all|slice:":10" %}
  {{answer.body}}
  <a href="{% url 'questions:ans_single' pk=answer.pk %}">​<i class="fa fa-thumbs-o-up" style="font-size:36px"></i></a>
  <p>Author: {{answer.author}} Upvotes: {{answer.likes}}</p>
  {% endfor %}
  {% else %}
  {% for answer in question.answers.all %}
  <br>
      <strong>Answer:</strong> {{answer.body}}
  <a href="{% url 'questions:ans_single' pk=answer.pk %}">​<i class="fa fa-thumbs-o-up" style="font-size:36px"></i></a>
  <p>By: <a href="{% url 'accounts:profile' slug=question.author.slug %}">{{answer.author}}</a>  Upvotes: {{answer.likes}}</p>
  {% endfor %}

  <h5>This Question has not been solved yet. <br> Provide your answer below.</h5>

  {% endif %}
</div>



{% if user.is_authenticated and question.solved == False %}
<div class='answer_form'>
  <form method='POST'>
    {% csrf_token %}
    {{ form.as_p}}
    <input type="Submit" class="btn btn-success" value="Add Answer">
  </form>
</div>
{% endif %}

{% endblock %}